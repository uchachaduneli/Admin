<div id="printContent" style="size: A4; display: none;">
  <table cellspacing="0" cellpadding="0" style="border: 1px solid black; font-size: 12px;">
    <tr>
      <td style="width: 900px;">
        <table cellspacing="0" cellpadding="0" style="width: 100%; ">
          <tr>
            <td><img src="../assets/images/print_logo.png"></td>
            <td style="text-align: right; vertical-align: bottom; font-size: 20px;"><span>ექსპრეს ხაზი</span></td>
          </tr>
          <tr>
            <td colspan="2"
                style="border-bottom: 1px solid; border-top: 1px solid; background-color: lightgray;">
              1. გადამხდელი მხარე | დაზღვევა &nbsp; payer account and insurance
            </td>
          </tr>
          <tr>
            <td colspan="2">
              <table cellspacing="0" cellpadding="2" style="width: 100%; font-size: 12px;">
                <tr>
                  <td>გამგზავნი <br> shipper</td>
                  <td>
                    <div style="margin: 0 auto; border: 1px solid;  width: 30px; height: 30px;"></div>
                  </td>
                  <td>მიმღები <br> Receiver</td>
                  <td>
                    <div style="margin: 0 auto; border: 1px solid; width: 30px; height: 30px;"></div>
                  </td>
                  <td>მესამე მხარე <br> 3 rd party</td>
                  <td>
                    <div style="margin: 0 auto; border: 1px solid; width: 30px; height: 30px;"></div>
                  </td>
                </tr>
                <tr>
                  <td colspan="6">დაზ. პოლისის N <br> Shipment insurance</td>
                </tr>
                <tr>
                  <td colspan="3">გაზრდილი პასუხისმგებლობა<br>Increased responsibility</td>
                  <td></td>
                  <td></td>
                  <td>
                    <div style="margin: 0 auto; border: 1px solid; width: 30px; height: 30px;"></div>
                  </td>
                </tr>
              </table>
            </td>
          </tr>
          <tr>
            <td colspan="2"
                style="border-bottom: 1px solid; border-top: 1px solid; background-color: lightgray;">
              2. გამგზავნი | From Shipper
            </td>
          </tr>
          <tr>
            <td style="border-bottom: 1px solid;">
              კომპანია <br> Company Name
            </td>
            <td style="border-bottom: 1px solid;">
              {{selectedObject.senderName}}
            </td>
          </tr>
          <tr>
            <td style="border-bottom: 1px solid;">
              ს|კ
            </td>
            <td style="border-bottom: 1px solid;">
              {{selectedObject.senderIdentNumber}}
            </td>
          </tr>
          <tr>
            <td>
              მისამართი<br>Address
            </td>
            <td>
              {{selectedObject.senderAddress}}
            </td>
          </tr>
          <tr>
            <td style="border-bottom: 1px solid;">
              ქალაქი|City
            </td>
            <td style="border-bottom: 1px solid;">
              {{selectedObject.senderCity?.name}}
            </td>
          </tr>
          <tr>
            <td style="border-bottom: 1px solid;">
              სახელი, გვარი<br>Contact Name &nbsp; {{selectedObject.senderContactPerson}}
            </td>
            <td style="border-bottom: 1px solid;">
              ტელეფონი <br> Phone &nbsp;{{selectedObject.senderPhone}}
            </td>
          </tr>
          <tr>
            <td colspan="2" style=" background-color: lightgray;">
              3. მიმღები | Receiver
            </td>
          </tr>
          <tr>
            <td style="border-bottom: 1px solid;">
              კომპანია <br> Company Name
            </td>
            <td style="border-bottom: 1px solid;">
              {{selectedObject.receiverName}}
            </td>
          </tr>
          <tr>
            <td style="border-bottom: 1px solid;">
              ს|კ
            </td>
            <td style="border-bottom: 1px solid;">
              {{selectedObject.receiverIdentNumber}}
            </td>
          </tr>
          <tr>
            <td>
              მისამართი<br>Address
            </td>
            <td>
              {{selectedObject.receiverAddress}}
            </td>
          </tr>
          <tr>
            <td style="border-bottom: 1px solid;">
              ქალაქი|City
            </td>
            <td style="border-bottom: 1px solid;">
              {{selectedObject.receiverCity?.name}}
            </td>
          </tr>
          <tr>
            <td style="border-bottom: 1px solid;">
              სახელი, გვარი<br>Contact Name &nbsp; {{selectedObject.receiverContactPerson}}
            </td>
            <td style="border-bottom: 1px solid;">
              ტელეფონი <br> Phone &nbsp;{{selectedObject.receiverPhone}}
            </td>
          </tr>
        </table>
      </td>
      <td style="width: 1000px; text-align: center; border-left: 1px solid black;border-right: 1px solid black;">
        <br><br><br>
        <ngx-barcode [bc-value]="bcValue" [bc-height]="50"
                     *ngFor="let bcValue of idToBarcode()"
                     [bc-display-value]="true"></ngx-barcode>
        <br>

        <table cellspacing="0" cellpadding="0" style="width: 100%; text-align: left!important;">
          <tr>
            <td style="border-bottom: 1px solid; border-top: 1px solid; background-color: lightgray;">
              4. ტვირთის დეტალები | Shipment details
            </td>
          </tr>
          <tr>
            <td style="border-bottom: 1px solid;">
              <table cellspacing="0" cellpadding="0" style="width: 100%;">
                <tr>
                  <td>ადგილის რაოდენობა <br> Number Of Packages</td>
                  <td></td>
                  <td>მოცულობითი ზომები სმ-ში<br>Dimensions in cm</td>
                </tr>
                <tr>
                  <td>წონა {{selectedObject.weight}} კგ<br> Weight {{selectedObject.weight}} kg</td>
                  <td></td>
                  <td>
                    <table style="width: 100%">
                      <tr *ngFor="let dynamic of dynamicArray;">
                        <td>{{dynamic.length}}</td>
                        <td>{{dynamic.width}}</td>
                        <td>{{dynamic.height}}</td>
                      </tr>
                    </table>
                  </td>
                </tr>
              </table>
            </td>
          </tr>
          <tr>
            <td style="border-bottom: 1px solid; background-color: lightgray;">
              5. შითავსის აღწერა | Full Description Of Contents
            </td>
          </tr>
          <tr>
            <td>
              {{selectedObject.content}}
            </td>
          </tr>
          <tr>
            <td style="border-bottom: 1px solid; border-top: 1px solid; background-color: lightgray;">
              6. გამგზავნის თანხმობა | Shippers agreement (Signature required)
            </td>
          </tr>
          <tr>
            <td style="font-size: 8px; border-bottom: 1px solid;">
              შპს. &#34; ექსპრეს ხაზი &#34; -ს მომსახურების შეკვეთისას თქვენ თანხმობას აცხადებთ წინამდებარე ზედნადებზე
              მითითებულ მისამართზე ტვირთის მიტანაზე.
              შპს ექსპრეს ხაზი მოქმედებს თქვენს მიერ მითითებული მონაცემების საფუძველზე, რომლის უტყუარობაზეც თქვენ იღებთ
              პასუხისმგებლობას. შპს ექსპრეს ხაზი
              ახორციელებს ნებისმიერი სახის დოკუმენტაციისა და ტვირთის გადაზიდვას, გარდა საქართველოს კანონმდებლობით
              აკრძალული ნივთებისა. შპს ექსპრესს ხაზი-ს
              მიერ ტვირთი ჩაბარდება გამგზავნის მიერ ზედნადებზე მითითებულ მისამართზე. გამგზავნის მიერ არჩეული სერვისის
              შესაბამისად.
              შპს ექსპრეს ხაზი მიიღებს ყველა მასზე დამოკიდებულ ზომას, ტვირთის დროულად და დაუზიანებლად ჩაბარებისთვის.
              გადამზიდავი პასუხს არ აგებს იმ ზიანისთვის ან ტვირთის
              ჩაბარების დაყოვნებისთვის რაც გამოწვეულია დაუძლეველი ძალის ზემოქმედებით ან გამგზავნის ბრალით: არასწორი
              მისამართის მითითება, მიმღების არაზუსტი დასახელება,
              ტვირთის შეფუთვის წესების დარღვევა, ტვირთის მახასიათებლების არასწორად მითითება. ნივთის ჩაბარებისას
              გარეგნული დაზიანების აღმოჩენის შემთხვევაში აღნიშნულის შესახებ
              შპს ექსპრეს ხაზს უნდა ეცნობოს იმავე დღეს. გარეგნულად შეუმჩნეველი დაზიანების ან დანაკარგების შემთხვევაში
              ტვირთის ჩაბარებიდან 7 დღის მანძილზე, წინააღმდეგ შემთხვევაში
              შპს ექსპრეს ხაზი პასუხს არ აგებს. გავეცანი და ვეთანხმები წინამდებარე ზედნადებში მოცემულ ინფორმაციას,
              ვადასტურებ ჩემს მიერ მითითებული ინფორმაციის სიზუსტეს.
            </td>
          </tr>
          <tr>
            <td style="border-bottom: 1px solid;">
              <table style="width: 100%">
                <tr>
                  <td>ხელმოწერა | Signature</td>
                  <td>თარიღი | Date</td>
                </tr>
              </table>
            </td>
          </tr>
        </table>
      </td>
      <td style=" font-size: 12px;  ">
        <table cellpadding="0" cellspacing="0" style="width: 100%;">
          <tr>
            <td style="border-bottom: 1px solid; border-top: 1px solid;">გამგზავნი<br> Origin</td>
            <td style=" border-top: 1px solid;border-left: 1px solid; border-bottom: 1px solid;">მიმღები<br> Destination
            </td>
          </tr>
          <tr>
            <td style="border-bottom: 1px solid; min-height: 50px;">
              {{selectedObject.senderName}}&nbsp;({{selectedObject.senderIdentNumber}})
            </td>
            <td style="border-bottom: 1px solid;border-left: 1px solid; height: 50px;">
              {{selectedObject.receiverName}}&nbsp;({{selectedObject.receiverIdentNumber}})
            </td>
          </tr>
          <tr>
            <td colspan="2" style="border-bottom: 1px solid; border-left: 1px solid; background-color: lightgray;">
              7. სერვისის ტიპი | Service Type
            </td>
          </tr>
          <tr>
            <td colspan="2">
              <table cellpadding="0" cellspacing="0" style="width: 100%; ">
                <tr *ngFor="let c of services; let i = index;">
                  <td>{{i + 1}}.&nbsp;{{c.name}}</td>
                  <td style="border: 1px solid; ">&nbsp;&nbsp;
                    <!--                    <div style="min-width: 20px; height: 5%;"></div>-->
                  </td>
                  <td>&nbsp;{{i + 1}}.&nbsp;{{c.engName}}</td>
                </tr>
              </table>
            </td>
          </tr>
          <tr>
            <td colspan="2" style="border-bottom: 1px solid;border-left: 1px solid; background-color: lightgray;">
              8. გადახდის ფორმა | Charges Service
            </td>
          </tr>
          <tr>
            <td colspan="2">
              <table cellpadding="0" cellspacing="0" style="width: 100%; border-bottom: 1px solid;">
                <tr>
                  <td>1. ნაღდი</td>
                  <td style="border: 1px solid; width: 5% ">&nbsp;&nbsp;</td>
                  <td>1. Cash</td>
                </tr>
                <tr>
                  <td>2. გადარიცხვა</td>
                  <td style="border: 1px solid; width: 5% "></td>
                  <td>2. Invoice</td>
                </tr>
                <tr>
                  <td>3. ბარათი</td>
                  <td style="border: 1px solid; width: 5% "></td>
                  <td>3. Card</td>
                </tr>
              </table>
            </td>
          </tr>
          <tr>
            <td colspan="2" style="border-bottom: 1px solid;border-left: 1px solid; background-color: lightgray;">
              9. დამატებითი ხარჯი | Additional charges
            </td>
          </tr>
          <tr>
            <td colspan="2">
              <table cellpadding="0" cellspacing="0" style="width: 100%; border-bottom: 1px solid;">
                <tr>
                  <td>1. დაზღვევა <br>Insurance</td>
                  <td style="border: 1px solid; border-right: none; width: 5% ">&nbsp;&nbsp;</td>
                </tr>
                <tr>
                  <td>2. გაზ. პასუხისმგებლობა <br>increased responsibility</td>
                  <td style="border: 1px solid; border-right: none;"></td>
                </tr>
                <tr>
                  <td>3. შეფუთვა <br>Packing</td>
                  <td style="border: 1px solid; border-right: none;"></td>
                </tr>
              </table>
            </td>
          </tr>
          <tr>
            <td>
              ფასი<br>Price
            </td>
            <td>
              ლარი<br>GEL
            </td>
          </tr>
          <tr>
            <td colspan="2">
              მარშრუტის N<br>Route No
            </td>
          </tr>
          <tr>
            <td>
              ქალაქი<br>City
            </td>
            <td>
              დრო<br>Time
            </td>
          </tr>
        </table>
      </td>
    </tr>
    <tr>
      <td colspan="2" style="border-right: 1px solid; height: 50px;"></td>
    </tr>
  </table>
</div>

<form class="doNotPrint">
  <div fxLayout="row wrap">
    <!-- Card column -->
    <div fxFlex.gt-sm="100%" fxFlex="100">
      <mat-card>
        <mat-card-content>
          <mat-card-title class="p-b-20">
            <div fxFlex="100" fxFlex.gt-md="80">
              <mat-accordion>
                <mat-expansion-panel>
                  <mat-expansion-panel-header>
                    <mat-panel-title> კონფიგურაცია</mat-panel-title>
                    <mat-panel-description> კონფიგურაციის შესაცვლელად ჩამოშალეთ პანელი</mat-panel-description>
                  </mat-expansion-panel-header>
                  <mat-tab-group>
                    <mat-tab label="შტრიხკოდის ბეჭდვა">
                      <div fxLayout="row wrap" class="align-items-center">
                        <div fxFlex="100" fxFlex.gt-md="100">
                          <div fxFlex="100" fxFlex.gt-md="50">
                            <mat-form-field>
                              <input type="number" matInput placeholder="მიუთითეთ დასაბეჭდი შტრიხკოდების რაოდენობა"
                                     name="barcodesCount">
                            </mat-form-field>
                          </div>
                          <div fxFlex="100" fxFlex.gt-md="50">
                            <button mat-button bg-success mat-flat-button color="warn" align="start"
                                    style="margin-top: 1.5%;margin-left: 2%;">
                              ბეჭდვა
                            </button>
                          </div>
                        </div>
                      </div>
                    </mat-tab>
                    <mat-tab label="მოც. წონის კოეფიციენტი">
                      <div fxLayout="row wrap" class="align-items-center">
                        <div fxFlex="100" fxFlex.gt-md="100">
                          <div fxFlex="100" fxFlex.gt-md="50">
                            <mat-form-field>
                              <input type="number" matInput [(ngModel)]="slctedVolumeWeightIndex.amount"
                                     placeholder="მიუთითეთ მოცულობითი წონის კოეფიციენტი"
                                     name="volumeWeightIndex">
                            </mat-form-field>
                          </div>
                          <div fxFlex="100" fxFlex.gt-md="50">
                            <button mat-button bg-success mat-flat-button color="warn" align="start"
                                    (click)="saveGlobalVolumeWeight()"
                                    style="margin-top: 1.5%; margin-left: 2%;">
                              შენახვა
                            </button>
                          </div>
                        </div>
                      </div>
                    </mat-tab>
                  </mat-tab-group>
                </mat-expansion-panel>
              </mat-accordion>
            </div>
            <div fxFlex="100" fxFlex.gt-md="20" class="text-right">
              <button (click)="print()" >
                <mat-icon>local_printshop</mat-icon>
              </button>
            </div>
          </mat-card-title>
          <mat-vertical-stepper #stepper>
            <mat-step>
              <ng-template matStepLabel>გამგზავნი</ng-template>
              <div fxLayout="row wrap" class="align-items-center">
                <div fxFlex="100" fxFlex.gt-md="100">
                  <div fxFlex="100" fxFlex.gt-md="20">
                    <div class="m-r-15 m-l-15">
                      <mat-form-field>
                        <mat-icon matPrefix>search</mat-icon>
                        <input matInput [(ngModel)]="senderContactDto.contact.name" type="text"
                               name="senderContactNameSrch" id="senderContactNameSrch"
                               placeholder="კონტაქტის სახელი" class="search-input"
                               (keyup.enter)="searchContact(1)">
                      </mat-form-field>
                    </div>
                  </div>
                  <div fxFlex="100" fxFlex.gt-md="20">
                    <mat-form-field>
                      <input matInput type="number" [(ngModel)]="senderContactDto.contact.identNumber"
                             name="senderIdentNumber" (keyup.enter)="searchContact(1)"
                             placeholder=" საიდენტიფიკაციო #" class="search-input">
                    </mat-form-field>
                  </div>
                  <div fxFlex="100" fxFlex.gt-md="60">
                    <button mat-button bg-success mat-flat-button (click)="searchContact(1)" color="accent"
                            align="start"
                            [disabled]="!this.senderContactDto.contact.name && !this.senderContactDto.contact.identNumber">
                      <mat-icon>search</mat-icon>
                    </button>
                    &nbsp;
                    <button mat-button mat-flat-button (click)="resetFilters()"
                            align="start"
                            [disabled]="!this.senderContactDto.contact.name && !this.senderContactDto.contact.identNumber">
                      <mat-icon>refresh</mat-icon>
                    </button>
                  </div>
                </div>
                <div fxFlex="100" fxFlex.gt-md="50">
                  <div class="m-r-15 m-l-15">
                    <mat-form-field>
                      <mat-select [(ngModel)]="senderContactDto.contact.id" name="senderContact"
                                  placeholder="მოძებნილი კონტაქტი"
                                  [disabled]="!this.senderContactDto.contact.name && !this.senderContactDto.contact.identNumber"
                                  aria-placeholder="მოძებნილი კონტაქტი" required
                                  (selectionChange)="onContactSelect($event.value, 1)">
                        <mat-option *ngFor="let c of searchedSenderContacts" [value]="c.id">{{c.name}}
                          ({{c.identNumber}})
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                </div>
                <div fxFlex="100" fxFlex.gt-md="51">
                  <div class="m-r-15 m-l-15">
                    <mat-form-field>
                      <mat-select [(ngModel)]="senderContactDto.contactAddress.city.id" name="senderContactCity"
                                  placeholder="ქალაქი" (selectionChange)="onCityChange($event.value, 1)"
                                  aria-placeholder="ქალაქი" required>
                        <mat-option *ngFor="let c of cities" [value]="c.id">{{c.name}}</mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                </div>
                <div fxFlex="100" fxFlex.gt-md="100">
                  <div class="m-r-15 m-l-15">
                    <mat-form-field>
                      <input matInput type="text" name="senderContactAddress"
                             [matAutocomplete]="autoSenderAddress"
                             [formControl]="senderAddressCtrl" placeholder=" მისამართი">
                      <mat-autocomplete #autoSenderAddress="matAutocomplete">
                        <mat-option *ngFor="let state of filteredSenderAddresses | async"
                                    [value]="state.street +' '+ state.appartmentDetails">
                          <span>{{state.street}}, {{state.appartmentDetails}}</span>
                        </mat-option>
                      </mat-autocomplete>
                    </mat-form-field>
                  </div>
                </div>
                <div fxFlex="100" fxFlex.gt-md="100">
                  <div class="m-r-15 m-l-15">
                    <mat-form-field>
                      <input matInput type="text" name="senderContactPerson" [matAutocomplete]="senderPersonAuto"
                             placeholder=" საკონტაქტო პირი" [formControl]="senderContactPersonCtrl">
                      <mat-autocomplete #senderPersonAuto="matAutocomplete">
                        <mat-option *ngFor="let state of filteredSenderContactPersons | async"
                                    [value]="state.contactPerson + ' ' + state.contactPersonPhone">
                          <span>{{state.contactPerson}}, {{state.contactPersonPhone}}</span>
                        </mat-option>
                      </mat-autocomplete>
                    </mat-form-field>
                  </div>
                </div>
              </div>
              <div>
                <!--                <button mat-button matStepperNext color="primary">-->
                <button mat-button (click)="validateNextStep(1, stepper)" color="primary">
                  შემდეგი
                  <mat-icon>keyboard_arrow_down</mat-icon>
                </button>
              </div>
            </mat-step>
            <mat-step>
              <ng-template matStepLabel>მიმღები</ng-template>
              <div fxLayout="row wrap" class="align-items-center">
                <div fxFlex="100" fxFlex.gt-md="100">
                  <div fxFlex="100" fxFlex.gt-md="20">
                    <div class="m-r-15 m-l-15">
                      <mat-form-field>
                        <mat-icon matPrefix>search</mat-icon>
                        <input matInput [(ngModel)]="receiverContactDto.contact.name" type="text"
                               name="receiverContactNameSrch" id="receiverContactNameSrch"
                               placeholder="კონტაქტის სახელი" class="search-input"
                               (keyup.enter)="searchContact(2)">
                      </mat-form-field>
                    </div>
                  </div>
                  <div fxFlex="100" fxFlex.gt-md="20">
                    <mat-form-field>
                      <input matInput type="number" [(ngModel)]="receiverContactDto.contact.identNumber"
                             name="receiverIdenNumber" (keyup.enter)="searchContact(2)"
                             placeholder=" საიდენტიფიკაციო #" class="search-input">
                    </mat-form-field>
                  </div>
                  <div fxFlex="100" fxFlex.gt-md="60">
                    <button mat-button bg-success mat-flat-button (click)="searchContact(2)" color="accent"
                            align="start"
                            [disabled]="!this.receiverContactDto.contact.name && !this.receiverContactDto.contact.identNumber">
                      <mat-icon>search</mat-icon>
                    </button>
                  </div>

                </div>
                <div fxFlex="100" fxFlex.gt-md="50">
                  <div class="m-r-15 m-l-15">
                    <mat-form-field>
                      <mat-select [(ngModel)]="receiverContactDto.contact.id" name="receiverContact"
                                  placeholder="მოძებნილი კონტაქტი"
                                  [disabled]="!this.receiverContactDto.contact.name && !this.receiverContactDto.contact.identNumber"
                                  aria-placeholder="მოძებნილი კონტაქტი" required
                                  (selectionChange)="onContactSelect($event.value, 2)">
                        <mat-option *ngFor="let c of searchedReceiverContacts" [value]="c.id">{{c.name}}
                          ({{c.identNumber}})
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                </div>
                <div fxFlex="100" fxFlex.gt-md="51">
                  <div class="m-r-15 m-l-15">
                    <mat-form-field>
                      <mat-select [(ngModel)]="receiverContactDto.contactAddress.city.id" name="receiverContactCity"
                                  placeholder="ქალაქი" (selectionChange)="onCityChange($event.value, 2)"
                                  aria-placeholder="ქალაქი" required>
                        <mat-option *ngFor="let c of cities" [value]="c.id">{{c.name}}</mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                </div>
                <div fxFlex="100" fxFlex.gt-md="100">
                  <div class="m-r-15 m-l-15">
                    <mat-form-field>
                      <input matInput type="text" name="receiverContacaddress" [matAutocomplete]="autoReceiverAddress"
                             placeholder=" მისამართი" [formControl]="receiverAddressCtrl">
                      <mat-autocomplete #autoReceiverAddress="matAutocomplete">
                        <mat-option *ngFor="let state of filteredReceiverAddresses | async" [value]="state.street">
                          <span>{{state.street}}, {{state.appartmentDetails}}</span>
                        </mat-option>
                      </mat-autocomplete>
                    </mat-form-field>
                  </div>
                </div>
                <div fxFlex="100" fxFlex.gt-md="100">
                  <div class="m-r-15 m-l-15">
                    <mat-form-field>
                      <input matInput type="text" id="senderContactPersonInputId" name="receiverContactPerson"
                             [matAutocomplete]="receiverPersonAuto"
                             placeholder=" საკონტაქტო პირი" [formControl]="receiverContactPersonCtrl">
                      <mat-autocomplete #receiverPersonAuto="matAutocomplete">
                        <mat-option *ngFor="let state of filteredReceiverContactPersons | async"
                                    [value]="state.contactPerson + ' ' + state.contactPersonPhone">
                          <span>{{state.contactPerson}}, {{state.contactPersonPhone}}</span>
                        </mat-option>
                      </mat-autocomplete>
                    </mat-form-field>
                  </div>
                </div>
              </div>
              <div>
                <button mat-button matStepperPrevious color="primary">
                  <mat-icon>keyboard_arrow_up</mat-icon>
                  წინა
                </button>
                <button mat-button (click)="validateNextStep(2, stepper)" color="primary">
                  შემდეგი
                  <mat-icon>keyboard_arrow_down</mat-icon>
                </button>
              </div>
            </mat-step>
            <mat-step>
              <ng-template matStepLabel>გადამხდელი მხარე</ng-template>
              <div fxFlex="100" fxFlex.gt-md="50">
                <div class="m-r-15 m-l-15">
                  <mat-radio-group aria-label="მიუთითეთ მხარე" name="payerSide"
                                   [(ngModel)]="selectedObject.payerSide">
                    <mat-label> &nbsp;</mat-label>
                    <mat-radio-button [value]="1"> გამგზავნი &nbsp;</mat-radio-button>
                    <mat-radio-button [value]="2"> მიმღები &nbsp;</mat-radio-button>
                    <mat-radio-button [value]="3"> მესამე პირი &nbsp;</mat-radio-button>
                  </mat-radio-group>
                </div>
              </div>
              <br/>
              <div fxLayout="row wrap" class="align-items-center" *ngIf="receiverContactDto.payerSide === 3">
                <div fxFlex="100" fxFlex.gt-md="100">
                  <div fxFlex="100" fxFlex.gt-md="20">
                    <div class="m-r-15 m-l-15">
                      <mat-form-field>
                        <mat-icon matPrefix>search</mat-icon>
                        <input matInput [(ngModel)]="payerContactDto.contact.name" type="text"
                               name="payerContactNameSrch" id="payerContactNameSrch"
                               placeholder="კონტაქტის სახელი" class="search-input"
                               (keyup.enter)="searchContact(1)">
                      </mat-form-field>
                    </div>
                  </div>
                  <div fxFlex="100" fxFlex.gt-md="20">
                    <mat-form-field>
                      <input matInput type="number" [(ngModel)]="payerContactDto.contact.identNumber"
                             name="payerIdentNumber" (keyup.enter)="searchContact(1)"
                             placeholder=" საიდენტიფიკაციო #" class="search-input">
                    </mat-form-field>
                  </div>
                  <div fxFlex="100" fxFlex.gt-md="60">
                    <button mat-button bg-success mat-flat-button (click)="searchContact(1)" color="accent"
                            align="start"
                            [disabled]="!this.payerContactDto.contact.name && !this.payerContactDto.contact.identNumber">
                      <mat-icon>search</mat-icon>
                    </button>
                    &nbsp;
                    <button mat-button mat-flat-button (click)="resetFilters()"
                            align="start"
                            [disabled]="!this.payerContactDto.contact.name && !this.payerContactDto.contact.identNumber">
                      <mat-icon>refresh</mat-icon>
                    </button>
                  </div>
                </div>
                <div fxFlex="100" fxFlex.gt-md="50">
                  <div class="m-r-15 m-l-15">
                    <mat-form-field>
                      <mat-select [(ngModel)]="payerContactDto.contact.id" name="payerContact"
                                  placeholder="მოძებნილი კონტაქტი"
                                  [disabled]="!this.payerContactDto.contact.name && !this.payerContactDto.contact.identNumber"
                                  aria-placeholder="მოძებნილი კონტაქტი" required
                                  (selectionChange)="onContactSelect($event.value, 3)">
                        <mat-option *ngFor="let c of searchedPayerContacts" [value]="c.id">{{c.name}}
                          ({{c.identNumber}})
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                </div>
                <div fxFlex="100" fxFlex.gt-md="51">
                  <div class="m-r-15 m-l-15">
                    <mat-form-field>
                      <mat-select [(ngModel)]="payerContactDto.contactAddress.city.id" name="payerContactCity"
                                  placeholder="ქალაქი" (selectionChange)="onCityChange($event.value, 3)"
                                  aria-placeholder="ქალაქი" required>
                        <mat-option *ngFor="let c of cities" [value]="c.id">{{c.name}}</mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                </div>
                <div fxFlex="100" fxFlex.gt-md="100">
                  <div class="m-r-15 m-l-15">
                    <mat-form-field>
                      <input matInput type="text" [(ngModel)]="payerContactDto.contactAddress.street"
                             name="payerContactAddress" placeholder=" მისამართი">
                    </mat-form-field>
                  </div>
                </div>
                <div fxFlex="100" fxFlex.gt-md="100">
                  <div class="m-r-15 m-l-15">
                    <mat-form-field>
                      <input matInput type="text" [(ngModel)]="payerContactDto.contactAddress.contactPerson"
                             name="payerContactPerson" placeholder=" საკონტაქტო პირი">
                    </mat-form-field>
                  </div>
                </div>
              </div>
              <div>
                <button mat-button matStepperPrevious color="primary">
                  <mat-icon>keyboard_arrow_up</mat-icon>
                  წინა
                </button>
                <button mat-button (click)="validateNextStep(3, stepper)" color="primary">
                  შემდეგი
                  <mat-icon>keyboard_arrow_down</mat-icon>
                </button>
              </div>
            </mat-step>
            <mat-step>
              <ng-template matStepLabel>ამანათი</ng-template>
              <!--              <div style="border:1px dashed #1eacbe;" >-->
              <div fxFlex="100" fxFlex.gt-md="100">
                <div class="m-r-15 m-l-15">
                  <mat-form-field fxFlex="100" fxFlex.gt-md="50">
                    <input matInput type="number" align="start" [(ngModel)]="packagesCount"
                           (keyup)="addPackageRow($event.target.value)" name="packagesCount"
                           placeholder="რაოდენობა">
                  </mat-form-field>

                  <button mat-button (click)="addPackageRow(-1)" color="accent">
                    <mat-icon>plus_one</mat-icon>
                  </button>
                </div>
                <mat-form-field fxFlex="100" fxFlex.gt-md="20">
                  <input matInput type="number" [(ngModel)]="selectedObject.weight"
                         name="parcelWeight" placeholder="წონა">
                </mat-form-field>
              </div>
              <div fxFlex="100" fxFlex.gt-md="100" style="border-bottom:1px dashed #1eacbe;">
                <table class="table table-striped table-bordered">
                  <tbody>
                  <tr *ngFor="let dynamic of dynamicArray; let i = index;">
                    <td>
                      {{i + 1}}
                    </td>
                    <td>
                      <mat-form-field>
                        <input [(ngModel)]="dynamicArray[i].length" (keyup)="calculateVolumeWeight(i)" matInput
                               placeholder="სიგრძე" type="number"
                               name="length{{i}}"/>
                      </mat-form-field>
                    </td>
                    <td>
                      <mat-form-field>
                        <input [(ngModel)]="dynamicArray[i].width" (keyup)="calculateVolumeWeight(i)" matInput
                               placeholder="სიგანე" type="number"
                               name="width{{i}}"/>
                      </mat-form-field>
                    </td>
                    <td>
                      <mat-form-field>
                        <input [(ngModel)]="dynamicArray[i].height" (keyup)="calculateVolumeWeight(i)" matInput
                               placeholder="სიმაღლე" type="number"
                               name="height{{i}}"/>
                      </mat-form-field>
                    </td>
                    <td>
                      <mat-form-field>
                        <input value="{{dynamicArray[i].volumeWeight}}" matInput readonly placeholder="მოც.წონა"
                               type="number" name="volumeWeight{{i}}"/>
                      </mat-form-field>
                    </td>
                    <td>
                      <mat-form-field>
                        <input [(ngModel)]="dynamicArray[i].plombNumber" matInput placeholder="პლომბის #" type="text"
                               name="plombNumber{{i}}"/>
                      </mat-form-field>
                    </td>
                    <td>
                      <mat-form-field>
                        <input [(ngModel)]="dynamicArray[i].boxNumber" matInput placeholder="ყუთის #" type="text"
                               name="boxNumber{{i}}"/>
                      </mat-form-field>
                    </td>
                    <td (click)="deletePackageRow(i)" class="cursor-pointer">
                      <mat-icon>delete_outline</mat-icon>
                    </td>
                  </tr>
                  <tr>
                    <td colspan="4"></td>
                    <td>{{selectedObject.volumeWeight | number:'1.2-3'}}</td>
                    <td colspan="2"></td>
                  </tr>
                  </tbody>
                </table>
              </div>
              <br><br>
              <div fxFlex="100" fxFlex.gt-md="100">
                <div fxFlex="100" fxFlex.gt-md="50">
                  <div class="m-r-15 m-l-15">
                    <mat-form-field>
                      <mat-icon matPrefix>attach_money</mat-icon>
                      <input matInput type="number" name="gadaputvisPasi" [(ngModel)]="selectedObject.gadafutvisPrice"
                             placeholder="გადაფუთვის ფასი">
                    </mat-form-field>
                  </div>
                </div>
                <div fxFlex="100" fxFlex.gt-md="50">
                  <mat-form-field>
                    <mat-icon matPrefix>attach_money</mat-icon>
                    <input matInput type="number" name="totalPrice" [(ngModel)]="selectedObject.totalPrice"
                           placeholder="მთლიანი ფასი">
                  </mat-form-field>
                </div>
              </div>
              <div fxFlex="100" fxFlex.gt-md="100">
                <div fxFlex="100" fxFlex.gt-md="50">
                  <div class="m-r-15 m-l-15">
                    <mat-radio-group aria-label="ჩაბარების ტიპი" [(ngModel)]="selectedObject.deliveryType"
                                     name="deilveryType">
                      <mat-label>ჩაბარების ტიპი &nbsp;</mat-label>
                      <mat-radio-button [value]="1"> მიტანა მისამართზე &nbsp;</mat-radio-button>
                      <mat-radio-button [value]="2"> მოკითხვა &nbsp;</mat-radio-button>
                    </mat-radio-group>
                  </div>
                </div>
                <div fxFlex="100" fxFlex.gt-md="50">
                  <div class="m-r-15 m-l-15">
                    <mat-radio-group aria-label="გადახდის ტიპი" [(ngModel)]="selectedObject.paymentType"
                                     name="paymentType">
                      <mat-label>გადახდის ტიპი &nbsp;</mat-label>
                      <mat-radio-button [value]="1"> ინვოისი &nbsp;</mat-radio-button>
                      <mat-radio-button [value]="2"> ნაღდი &nbsp;</mat-radio-button>
                      <mat-radio-button [value]="3"> ბარათი &nbsp;</mat-radio-button>
                    </mat-radio-group>
                  </div>
                </div>
              </div>
              <div fxFlex="100" fxFlex.gt-md="100">
                <div fxFlex="100" fxFlex.gt-md="50">
                  <div class="m-r-15 m-l-15"><br/>
                    <mat-radio-group aria-label="პაკეტის ტიპი" [(ngModel)]="selectedObject.packageType"
                                     name="packageType">
                      <mat-label>პაკეტის ტიპი &nbsp;</mat-label>
                      <mat-radio-button [value]="1"> ამანათი &nbsp;</mat-radio-button>
                      <mat-radio-button [value]="2"> პაკეტი &nbsp;</mat-radio-button>
                    </mat-radio-group>
                  </div>
                </div>
                <div fxFlex="100" fxFlex.gt-md="50">
                  <div class="m-r-15 m-l-15"><br/>
                    <mat-radio-group aria-label="ჩაბარების დადასტურება" name="deliveredConfirmation"
                                     [(ngModel)]="selectedObject.deliveredConfirmation">
                      <mat-label> ჩაბარების დადასტურება &nbsp;</mat-label>
                      <mat-radio-button [value]="1"> კი &nbsp;</mat-radio-button>
                      <mat-radio-button [value]="2"> არა</mat-radio-button>
                    </mat-radio-group>
                  </div>
                </div>

              </div>
              <div fxFlex="100" fxFlex.gt-md="50">
                <div class="m-r-15 m-l-15"><br/>
                  <mat-form-field>
                    <mat-select [(ngModel)]="selectedObject.parcelType.id" name="parcelType"
                                placeholder="გზავნილის ტიპი"
                                aria-placeholder="გზავნილის ტიპი">
                      <mat-option *ngFor="let c of services" [value]="c.id">{{c.name}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </div>
              <div fxFlex="100" fxFlex.gt-md="100">
                <div fxFlex="100" fxFlex.gt-md="50">
                  <div class="m-r-15 m-l-15">
                    <mat-form-field>
                      <mat-select [(ngModel)]="selectedObject.route.id" name="route"
                                  placeholder="მარშრუტი" aria-placeholder="მარშრუტი">
                        <mat-option *ngFor="let c of routes" [value]="c.id">{{c.name}}</mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                </div>
                <div fxFlex="100" fxFlex.gt-md="50">
                  <div class="m-r-15 m-l-15">
                    <mat-form-field>
                      <mat-select name="sticker" [(ngModel)]="selectedObject.sticker.id" placeholder="სტიკერი"
                                  aria-placeholder="სტიკერი">
                        <mat-option *ngFor="let c of docTypes" [value]="c.id">{{c.name}}</mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                </div>
              </div>
              <div fxFlex="100" fxFlex.gt-md="100">
                <div class="m-r-15 m-l-15">
                  <mat-form-field>
                    <textarea placeholder="შიგთავსი" aria-placeholder="შიგთავსი" rows="3" matInput
                              [(ngModel)]="selectedObject.content" name="contentTextArea"
                              type="text"></textarea>
                  </mat-form-field>
                </div>
              </div>
              <div fxFlex="100" fxFlex.gt-md="100">
                <div class="m-r-15 m-l-15">
                  <mat-form-field>
                    <textarea placeholder="შენიშვნა" aria-placeholder="შენიშვნა" rows="2" matInput
                              [(ngModel)]="selectedObject.comment" name="comment"
                              type="text"></textarea>
                  </mat-form-field>
                </div>
              </div>
              <div align="center" style="margin-top: 5%;">
                <button mat-button bg-success mat-flat-button matStepperNext (click)="save()" color="warn"> შენახვა
                  <mat-icon>save</mat-icon>
                </button>
              </div>
            </mat-step>
          </mat-vertical-stepper>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</form>



